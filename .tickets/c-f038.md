---
id: c-f038
status: closed
deps: []
created: 2026-01-03T18:33:27Z
type: task
priority: 2
assignee: JR Tipton
---
# Create shutdown_agent() primitive in runner.py

Add shutdown_agent(agent, state) function that: 1) Finds and kills Claude process by session ID or worktree path, 2) Checks if work completed (parse logs for DONE), 3) Reconciles state (done→queue merge, partial→keep working, nothing→reset to ready), 4) Saves state. This is the foundation for stop, kill, clean commands and session recovery.

